{"version":3,"sources":["webpack:///./src/views/Bind.vue?d82a","webpack:///./src/views/Bind.vue?9b0e","webpack:///src/views/Bind.vue","webpack:///./src/views/Bind.vue?e835","webpack:///./src/views/Bind.vue","webpack:///./src/libs/utils.js","webpack:///./src/api/index.js","webpack:///./src/api/create-api.js","webpack:///./src/api/axios.js","webpack:///./node_modules/core-js/modules/es6.regexp.match.js"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_8_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_2_node_modules_less_loader_dist_cjs_js_ref_8_3_node_modules_vue_loader_lib_index_js_vue_loader_options_Bind_vue_vue_type_style_index_0_id_5f241bd8_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","_handleBind","_getCode","views_Bindvue_type_script_lang_js_","data","mobile","text","smsToken","code","verifyCode","methods","isTel","this","Object","utils","mint_ui_common","isCode","getCode","asyncToGenerator_default","regenerator_default","a","mark","_callee","ev","el","self","token","params","endTime","wrap","_context","prev","next","target","abrupt","_disabled","open","api","sent","access_token","setAttribute","Date","getTime","counter","removeAttribute","concat","Math","ceil","setTimeout","t0","meta","message","close","finish","stop","_x","apply","arguments","handleBind","_callee2","callback","_context2","$refs","value","console","log","$router","push","handleInput","formatTel","e","position","selectionStart","sp","slice","match","length","nospace","replace","t1","substring","t2","curVal","curSp","selectionEnd","component","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","_v","ref","attrs","type","placeholder","name","maxlength","on","focus","input","directives","rawName","expression","domProps","$event","composing","class","code-btn-disabled","click","_s","__webpack_exports__","phone","test","setCookie","expiredays","exdate","setTime","Number","document","cookie","toGMTString","getCookie","start","indexOf","end","d","getSmsToken","getSmsCode","bindMobile","searchScore","scoreScore","Resource","require","stringify","post","undefined","scoreName","get","headers","TOKEN","settings","axiosIns","timeout","ins","axios","create","defaults","interceptors","request","use","req","error","Promise","reject","response","res","getAxios","baseURL","gConf","apiHost","Content-Type","anObject","toLength","advanceStringIndex","regExpExec","defined","MATCH","$match","maybeCallNative","regexp","O","fn","call","RegExp","String","done","rx","S","global","fullUnicode","unicode","lastIndex","result","A","matchStr"],"mappings":"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","file":"static/js/4.c3cb8a017e03288a65a7.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--8-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-2!../../node_modules/less-loader/dist/cjs.js??ref--8-3!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bind.vue?vue&type=style&index=0&id=5f241bd8&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--8-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-2!../../node_modules/less-loader/dist/cjs.js??ref--8-3!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bind.vue?vue&type=style&index=0&id=5f241bd8&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('p',{staticClass:\"title\"},[_vm._v(\"绑定手机\")]),_vm._v(\" \"),_c('div',{staticClass:\"input-zone tel-zone\"},[_c('input',{ref:\"mobile\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入手机号\",\"name\":\"user_mobile\",\"maxlength\":\"13\"},on:{\"focus\":_vm.handleInput,\"input\":_vm.formatTel}})]),_vm._v(\" \"),_c('div',{staticClass:\"input-zone code-zone\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.verifyCode),expression:\"verifyCode\"}],ref:\"code\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入验证码\",\"name\":\"user_code\",\"maxlength\":\"4\"},domProps:{\"value\":(_vm.verifyCode)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.verifyCode=$event.target.value}}}),_vm._v(\" \"),_c('span',{staticClass:\"code-btn\",class:{'code-btn-disabled': !(_vm.mobile)},on:{\"click\":_vm.getCode}},[_vm._v(_vm._s(_vm.text))])]),_vm._v(\" \"),_c('button',{staticClass:\"bind-btn\",on:{\"click\":_vm.handleBind}},[_vm._v(\"点击绑定\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <p class=\"title\">绑定手机</p>\n    <div class=\"input-zone tel-zone\">\n      <input type=\"text\" placeholder=\"请输入手机号\" name=\"user_mobile\" maxlength=\"13\" ref=\"mobile\" @focus=\"handleInput\" @input=\"formatTel\">\n    </div>\n    <div class=\"input-zone code-zone\">\n      <input type=\"text\" v-model=\"verifyCode\" placeholder=\"请输入验证码\" name=\"user_code\" maxlength=\"4\" ref=\"code\">\n      <span class=\"code-btn\" :class=\"{'code-btn-disabled': !(mobile)}\" @click=\"getCode\">{{text}}</span>\n    </div>\n    <button class=\"bind-btn\" @click=\"handleBind\">点击绑定</button>\n  </div>\n</template>\n<script>\nimport { getSmsToken, getSmsCode, bindMobile } from 'api'\nimport { Toast, Indicator } from 'mint-ui'\nimport { isTel, setCookie } from '@/libs/utils.js'\n\nexport default {\n  data () {\n    return {\n      mobile: '',\n      text: '获取验证码',\n      smsToken: '',\n      code: '',\n      verifyCode: ''\n    }\n  },\n  methods: {\n    isTel () {\n      if (!this.mobile) {\n        Toast('请输入手机号')\n        return\n      }\n      if (!isTel(this.mobile)) {\n        Toast('手机号格式错误')\n        return\n      }\n      return true\n    },\n    isCode () {\n      if (!this.verifyCode) {\n        Toast('请输入验证码')\n        return\n      }\n      return true\n    },\n    async getCode (ev) {\n      let el = ev.target\n      const self = this\n      if (!this.isTel()) {\n        return\n      }\n      if (el._disabled) return\n      el._disabled = true\n      Indicator.open('获取中...')\n      try {\n        let token = (await getSmsToken()).data.data.token\n        let params = {\n          access_token: token,\n          mobile: this.mobile\n        }\n        await getSmsCode(params)\n        el.setAttribute('disabled', true)\n        let endTime = new Date().getTime() + 60 * 1000\n        ;(function counter () {\n          if (endTime - new Date().getTime() <= 0) {\n            el._disabled = false\n            self.text = '获取验证码'\n            el.removeAttribute('disabled')\n            return\n          }\n          self.text = `${Math.ceil((endTime - new Date().getTime()) / 1000)}s`\n          setTimeout(() => {\n            counter()\n          }, 1000)\n        })()\n      } catch (err) {\n        Toast(err.meta.message || '获取验证码失败')\n      } finally {\n        el._disabled = false\n        Indicator.close()\n      }\n    },\n    async handleBind () {\n      if (!this.isTel() || !this.isCode()) {\n        return\n      }\n      let params = {\n        mobile: this.mobile,\n        code: this.$refs.code.value\n      }\n      Indicator.open('绑定中...')\n      try {\n        let callback = await bindMobile(params)\n        console.log(callback)\n        let token = callback.data.data.token\n        setCookie('TOKEN', token, 3 * 24 * 60 * 1000)\n        this.$router.push('/')\n      } catch (err) {\n        console.log(err)\n        // Toast(err.meta.message || '绑定失败')\n        Toast('绑定失败')\n      } finally {\n        console.log('sss')\n        Indicator.close()\n      }\n    },\n    handleInput () {\n      console.log('click')\n    },\n    formatTel (e) {\n      // 获取当前光标的位置\n      let position = e.target.selectionStart\n      // // 获取当前的value\n      let value = e.target.value\n      // 从左边沿到坐标之间的空格数\n      let sp = (value.slice(0, position).match(/\\s/g) || []).length\n      // // 去掉所有空格\n      let nospace = value.replace(/\\s/g, '')\n      // 重新插入空格\n      let t1 = nospace.substring(0, 3).replace(/^(\\w{3})/g, '$1 ')\n      let t2 = nospace.substring(3).replace(/^(\\w{4})/g, '$1 ')\n      let curVal = e.target.value = t1 + t2\n      this.mobile = nospace\n      // // 从左边沿到原坐标之间的空格数\n      let curSp = (curVal.slice(0, position).match(/\\s/g) || []).length\n      // // 修正光标位置\n      e.target.selectionEnd = e.target.selectionStart = position + curSp - sp\n    }\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n.container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  padding: 0.51rem 0.5rem 0 0.5rem;\n  .title {\n    font-size: 0.6rem;\n  }\n  .tel-zone {\n    margin-top: 0.8rem !important;\n  }\n  .bind-btn {\n    width: 100%;\n    height: 0.8rem;\n    margin-top: 0.8rem;\n    font-size: 0.36rem;\n    letter-spacing: 0.2rem;\n    border-radius: 0.08rem;\n    border: 1px solid #333;\n  }\n  .input-zone {\n    position: relative;\n    width: 100%;\n    margin-top: 0.3rem;\n    .code-btn {\n      position: absolute;\n      display: inline-block;\n      right: 0.02rem;\n      top: 0.1rem;\n      width: 1.55rem;\n      height: 0.5rem;\n      cursor: pointer;\n      text-align: center;\n      line-height: 0.5rem;\n      font-size: 0.2rem;\n      color: #333;\n      border: 1px solid #333;\n    }\n    .code-btn-disabled {\n      border-color: #a8a4a4;\n      color: #a8a4a4;\n      pointer-events: none;\n    }\n  }\n  input {\n    display: block;\n    width: 100%;\n    height: 0.8rem;\n    padding: 0;\n    border-radius: 0;\n    border: none;\n    outline: none;\n    letter-spacing: normal;\n    word-spacing: normal;\n    line-height: 0.4rem;\n    text-transform: none;\n    text-indent: 0px;\n    text-shadow: none;\n    font-size: 0.3rem;\n    color: #333;\n    border-bottom: 1px solid #333;\n    &.focus {\n      border-bottom: #333;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bind.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bind.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Bind.vue?vue&type=template&id=5f241bd8&scoped=true&\"\nimport script from \"./Bind.vue?vue&type=script&lang=js&\"\nexport * from \"./Bind.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Bind.vue?vue&type=style&index=0&id=5f241bd8&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f241bd8\",\n  null\n  \n)\n\nexport default component.exports","export function isTel (phone) {\n  return /^1[3-9]\\d{9}$/g.test(phone)\n}\n\nexport function isCode (code) {\n  return /^\\d{4}$/g.test(code)\n}\n\nexport function setCookie (name, value, expiredays) {\n  let exdate = new Date()\n  exdate.setTime(Number(exdate) + expiredays)\n  document.cookie = name + '=' + value + ((expiredays == null) ? '' : ';expires=' + exdate.toGMTString())\n}\n\nexport function getCookie (name) {\n  if (document.cookie.length > 0) {\n    let start = document.cookie.indexOf(name + '=')\n    if (start !== -1) {\n      start = start + name.length + 1\n      let end = document.cookie.indexOf(';', start)\n      if (end === -1) end = document.cookie.length\n      return document.cookie.substring(start, end)\n    }\n  }\n  return ''\n}\n","const Resource = require('./create-api')\nconst utils = require('../libs/utils')\nconst stringify = require('qs').stringify\nconst { api } = Resource\n\nexport function getSmsToken () {\n  return api.post('/smart-piano/v4/user/sms_token')\n}\n\nexport function getSmsCode (params = {}) {\n  return api.post('/smart-piano/v4/user/send_verification_code', stringify(params))\n}\n\nexport function bindMobile (params = {}) {\n  return api.post('/smart-piano/v4/user/sms_login', stringify(params))\n}\n\nexport function searchScore (scoreName, params = {}) {\n  let token = utils.getCookie('TOKEN')\n  console.log(token)\n  return api.get(`/smart-piano/v4/search/${scoreName}`, {\n    params: params,\n    headers: {\n      'TOKEN': token\n    }\n  })\n}\n\nexport function scoreScore (params = {}) {\n  let token = utils.getCookie('TOKEN')\n  return api.post('/smart-piano/v4/user/favor', stringify(params), {\n    headers: {\n      'TOKEN': token\n    }\n  })\n}\n","import { getAxios } from './axios'\nimport gConf from 'gConf'\n\nexport const api = getAxios({\n  baseURL: gConf.apiHost.replace(/\\/$/, ''),\n  // withCredentials: true,\n  headers: {\n    'Content-Type': 'application/x-www-form-urlencoded'\n  }\n})\n","import axios from 'axios'\n\nexport function getAxios (settings, timeout = 10000) {\n  const ins = axios.create(settings)\n  axios.defaults.timeout = timeout\n  setInterceptors(ins)\n  return ins\n}\n\nfunction setInterceptors (axiosIns) {\n  axiosIns.interceptors.request.use(req => {\n    return req\n  }, error => {\n    console.error(error)\n    return Promise.reject(error)\n  })\n  axiosIns.interceptors.response.use(res => {\n    if (res.data.meta.code >= 200 && res.data.meta.code < 300) {\n      return res\n    }\n    return Promise.reject(res.data)\n  }, error => {\n    return Promise.reject(error.data || (error.response && error.response.data) || {\n      code: 5001,\n      message: 'api error'\n    })\n  })\n}\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\n\n// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[MATCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative($match, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      if (!rx.global) return regExpExec(rx, S);\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n"],"sourceRoot":""}